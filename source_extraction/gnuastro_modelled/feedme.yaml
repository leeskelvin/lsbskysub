parameters : 
    - &input temp-input.dat
    - &output temp-model.fits
    - &pixelscale 0.168

psf :
    type : InterpolatedImage
    image : "../../hsc_data/psf/calexp-HSC-R-8283-38.psf.fits"
    scale : *pixelscale

gal :
    type : Sersic
    n : { type : Catalog , col : 6 }
    half_light_radius : 
        type : Eval
        fpixelscale : *pixelscale
        fhlrpixel : { type : Catalog , col : 3 }
        str : 'hlrpixel * pixelscale'
    flux : { type : Catalog , col : 2 }
    flux_untruncated : True
    ellip : 
        type : QBeta 
        q : { type : Catalog , col : 4 }
        beta : 
            type : Degrees 
            theta : { type : Catalog , col : 5 }
    gsparams: 
        kvalue_accuracy : 1.e-8
        maxk_threshold : 1.1e-4
        maximum_fft_size : 32768

image : 
    pixel_scale : *pixelscale
    sky_level : 0 # ADU / arcsec^2
    random_seed : 3125
    nproc : 3
    type : Scattered
    xsize : 4200 # pixel
    ysize : 4100 # pixel
    stamp_size : { type : Catalog , col : 7 } # pixel
    image_pos :
        type : XY
        x : { type : Catalog , col : 0 }
        y : { type : Catalog , col : 1 }

input :
    catalog :
        file_name : *input

output :
    file_name : *output
    nproc : 3
    type : Fits

